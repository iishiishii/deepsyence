{"version":3,"sources":["webpack://ort/webpack/universalModuleDefinition","webpack://ort/../common/dist/lib/backend-impl.js","webpack://ort/../common/dist/lib/env.js","webpack://ort/../common/dist/lib/env-impl.js","webpack://ort/../common/dist/lib/tensor-impl.js","webpack://ort/../common/dist/lib/tensor.js","webpack://ort/../common/dist/lib/inference-session-impl.js","webpack://ort/../common/dist/lib/inference-session.js","webpack://ort/./lib/wasm/binding/ort-wasm.js","webpack://ort/./lib/backend-wasm.ts","webpack://ort/./lib/index.ts","webpack://ort/./lib/wasm/options-utils.ts","webpack://ort/./lib/wasm/proxy-wrapper.ts","webpack://ort/./lib/wasm/run-options.ts","webpack://ort/./lib/wasm/session-handler.ts","webpack://ort/./lib/wasm/session-options.ts","webpack://ort/./lib/wasm/string-utils.ts","webpack://ort/./lib/wasm/wasm-core-impl.ts","webpack://ort/./lib/wasm/wasm-factory.ts","webpack://ort/webpack/bootstrap","webpack://ort/webpack/runtime/define property getters","webpack://ort/webpack/runtime/hasOwnProperty shorthand","webpack://ort/webpack/runtime/make namespace object","webpack://ort/webpack/startup"],"names":["root","factory","exports","module","define","amd","self","backends","backendsSortedByPriority","registerBackend","name","backend","priority","init","createSessionHandler","TypeError","currentBackend","undefined","Error","i","length","splice","push","env","constructor","this","wasm","webgl","logLevelInternal","logLevel","value","indexOf","isBigInt64ArrayAvailable","BigInt64Array","from","isBigUint64ArrayAvailable","BigUint64Array","NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP","Map","Float32Array","Uint8Array","Int8Array","Uint16Array","Int16Array","Int32Array","Float64Array","Uint32Array","NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP","set","Tensor","arg0","arg1","arg2","type","data","dims","Array","isArray","typedArrayConstructor","get","firstElementType","mappedType","size","dim","Number","isSafeInteger","RangeError","calculateSize","reshape","InferenceSession","handler","async","feeds","fetches","options","isFetchesEmpty","outputNames","isFetches","arg1Keys","Object","getOwnPropertyNames","v","inputNames","results","run","returnValue","key","hasOwnProperty","call","static","arg3","filePathOrUint8Array","ArrayBuffer","SharedArrayBuffer","buffer","byteOffset","byteLength","backendHints","executionProviders","map","backendNames","errors","backendName","backendInfo","initialized","initializing","aborted","e","err","join","resolveBackend","startProfiling","endProfiling","_scriptDir","ortWasm","document","currentScript","src","c","aa","g","ready","Promise","a","b","t","r","y","z","B","C","D","ba","window","w","importScripts","ca","process","versions","node","x","__dirname","normalize","readFileSync","E","readFile","f","h","argv","replace","slice","on","inspect","location","href","substr","lastIndexOf","XMLHttpRequest","open","send","responseText","responseType","response","onload","status","onerror","H","da","print","console","log","bind","F","printErr","warn","thisProgram","wasmBinary","noExitRuntime","WebAssembly","I","la","M","K","N","ea","fa","TextDecoder","ha","subarray","decode","k","String","fromCharCode","l","J","L","charCodeAt","ia","ja","ka","ma","HEAP8","HEAP16","HEAP32","HEAPU8","HEAPU16","HEAPU32","HEAPF32","HEAPF64","na","oa","pa","qa","ra","sa","preRun","shift","unshift","Q","O","ta","P","onAbort","RuntimeError","ua","startsWith","preloadedImages","preloadedAudios","va","locateFile","wa","ya","Ea","xa","za","Na","Ka","La","Ja","Ma","Ga","S","Ba","Ca","R","hrtime","performance","now","Fa","Da","USER","LOGNAME","PATH","PWD","HOME","LANG","navigator","languages","_","toTimeString","match","Date","getFullYear","getTimezoneOffset","Math","max","U","V","W","X","Y","getTime","getMonth","getDate","setDate","setMonth","setFullYear","Oa","d","m","n","toString","Ha","A","q","getDay","G","u","p","Qa","Pa","Aa","Ya","Ra","RegExp","Ia","split","substring","ceil","abs","includes","Ta","Sa","o","fill","fd","Xa","flags","offset","j","Ua","s","copyWithin","min","grow","forEach","Wa","Va","T","getUTCSeconds","getUTCMinutes","getUTCHours","getUTCDate","getUTCMonth","getUTCFullYear","getUTCDay","UTC","getSeconds","getMinutes","getHours","setTime","asm","monitorRunDependencies","clearInterval","instance","fetch","credentials","then","ok","arrayBuffer","catch","resolve","instantiate","instantiateWasm","instantiateStreaming","___wasm_call_ctors","apply","arguments","_OrtInit","_OrtCreateSessionOptions","_OrtAddSessionConfigEntry","_OrtReleaseSessionOptions","_OrtCreateSession","_OrtReleaseSession","_OrtGetInputCount","Z","_OrtGetOutputCount","_OrtGetInputName","$","_OrtGetOutputName","_OrtFree","_OrtCreateTensor","_OrtGetTensorData","_OrtReleaseTensor","_OrtCreateRunOptions","_OrtAddRunConfigEntry","ga","_OrtReleaseRunOptions","_OrtRun","_OrtEndProfiling","_malloc","___errno_location","_free","__get_tzname","__get_daylight","__get_timezone","stackSave","stackRestore","stackAlloc","_memalign","calledRun","onRuntimeInitialized","postRun","setStatus","setTimeout","UTF8ToString","stringToUTF8","lengthBytesUTF8","preInit","pop","initializeFlags","initTimeout","simd","proxy","numThreads","isInteger","numCpuLogicalCores","cpus","hardwareConcurrency","wasmBackend","initWasm","pathOrBuffer","promisify","OnnxruntimeWebAssemblySessionHandler","loadModel","iterateExtraOptions","prefix","seen","has","add","entries","initializeWebAssembly","initOrt","loggingLevel","core","createSession","model","releaseSession","sessionId","inputIndices","inputs","outputIndices","setRunOptions","getInstance","runOptionsHandle","allocs","runOptions","logSeverityLevel","logVerbosityLevel","terminate","tagDataOffset","tag","allocWasmString","extra","WeakSet","keyDataOffset","valueDataOffset","ortInit","getLogLevel","inputArray","kvp","tensor","index","outputs","result","setSessionOptions","sessionOptionsHandle","sessionOptions","session","use_ort_model_bytes_directly","appendDefaultOptions","graphOptimizationLevel","getGraphOptimzationLevel","enableCpuMemArena","enableMemPattern","executionMode","getExecutionMode","logIdDataOffset","logId","enableProfiling","dataLength","dataOffset","errorCode","activeSessions","modelDataOffset","sessionHandle","inputCount","outputCount","inputNamesUTF8Encoded","outputNamesUTF8Encoded","delete","tensorDataTypeStringToEnum","tensorDataTypeEnumToString","typeProto","numericTensorTypeToTypedArray","runOptionsAllocs","inputValues","inputAllocs","dataType","dataByteLength","dataIndex","stack","dimsOffset","dimIndex","beforeRunStack","inputValuesOffset","inputNamesOffset","outputValuesOffset","outputNamesOffset","inputValuesIndex","inputNamesIndex","outputValuesIndex","outputNamesIndex","output","beforeGetTensorDataStack","tensorDataOffset","tensorDataIndex","dimsLength","reduce","stringData","maxBytesToRead","profileFileName","extractTransferableBuffers","tensors","buffers","ortWasmFactoryThreaded","getWasmFileName","useSimd","useThreads","timeout","MessageChannel","port1","postMessage","validate","isMultiThreadSupported","isSimdSupported","wasmPrefixOverride","wasmPaths","wasmFileName","wasmOverrideFileName","wasmPathOverride","isTimeout","tasks","reject","fileName","scriptDirectory","what","race","dispose","PThread","terminateAllThreads","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","defineProperty","enumerable","obj","prop","prototype","Symbol","toStringTag"],"mappings":"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","file":"ort.wasm-core.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ort\"] = factory();\n\telse\n\t\troot[\"ort\"] = factory();\n})(self, function() {\nreturn ","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nconst backends = {};\r\nconst backendsSortedByPriority = [];\r\n/**\r\n * Register a backend.\r\n *\r\n * @param name - the name as a key to lookup as an execution provider.\r\n * @param backend - the backend object.\r\n * @param priority - an integer indicating the priority of the backend. Higher number means higher priority. if priority\r\n * < 0, it will be considered as a 'beta' version and will not be used as a fallback backend by default.\r\n *\r\n * @internal\r\n */\r\nexport const registerBackend = (name, backend, priority) => {\r\n    if (backend && typeof backend.init === 'function' && typeof backend.createSessionHandler === 'function') {\r\n        const currentBackend = backends[name];\r\n        if (currentBackend === undefined) {\r\n            backends[name] = { backend, priority };\r\n        }\r\n        else if (currentBackend.backend === backend) {\r\n            return;\r\n        }\r\n        else {\r\n            throw new Error(`backend \"${name}\" is already registered`);\r\n        }\r\n        if (priority >= 0) {\r\n            for (let i = 0; i < backendsSortedByPriority.length; i++) {\r\n                if (backends[backendsSortedByPriority[i]].priority <= priority) {\r\n                    backendsSortedByPriority.splice(i, 0, name);\r\n                    return;\r\n                }\r\n            }\r\n            backendsSortedByPriority.push(name);\r\n        }\r\n        return;\r\n    }\r\n    throw new TypeError('not a valid backend');\r\n};\r\n/**\r\n * Resolve backend by specified hints.\r\n *\r\n * @param backendHints - a list of execution provider names to lookup. If omitted use registered backends as list.\r\n * @returns a promise that resolves to the backend.\r\n *\r\n * @internal\r\n */\r\nexport const resolveBackend = async (backendHints) => {\r\n    const backendNames = backendHints.length === 0 ? backendsSortedByPriority : backendHints;\r\n    const errors = [];\r\n    for (const backendName of backendNames) {\r\n        const backendInfo = backends[backendName];\r\n        if (backendInfo) {\r\n            if (backendInfo.initialized) {\r\n                return backendInfo.backend;\r\n            }\r\n            else if (backendInfo.initializing) {\r\n                throw new Error(`backend \"${backendName}\" is being initialized; cannot initialize multiple times.`);\r\n            }\r\n            else if (backendInfo.aborted) {\r\n                continue; // current backend is unavailable; try next\r\n            }\r\n            try {\r\n                backendInfo.initializing = true;\r\n                await backendInfo.backend.init();\r\n                backendInfo.initialized = true;\r\n                return backendInfo.backend;\r\n            }\r\n            catch (e) {\r\n                errors.push({ name: backendName, err: e });\r\n                backendInfo.aborted = true;\r\n            }\r\n            finally {\r\n                backendInfo.initializing = false;\r\n            }\r\n        }\r\n    }\r\n    throw new Error(`no available backend found. ERR: ${errors.map(e => `[${e.name}] ${e.err}`).join(', ')}`);\r\n};\r\n//# sourceMappingURL=backend-impl.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { EnvImpl } from './env-impl';\r\n/**\r\n * Represent a set of flags as a global singleton.\r\n */\r\nexport const env = new EnvImpl();\r\n//# sourceMappingURL=env.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport class EnvImpl {\r\n    constructor() {\r\n        this.wasm = {};\r\n        this.webgl = {};\r\n        this.logLevelInternal = 'warning';\r\n    }\r\n    // TODO standadize the getter and setter convention in env for other fields.\r\n    set logLevel(value) {\r\n        if (value === undefined) {\r\n            return;\r\n        }\r\n        if (typeof value !== 'string' || ['verbose', 'info', 'warning', 'error', 'fatal'].indexOf(value) === -1) {\r\n            throw new Error(`Unsupported logging level: ${value}`);\r\n        }\r\n        this.logLevelInternal = value;\r\n    }\r\n    get logLevel() {\r\n        return this.logLevelInternal;\r\n    }\r\n}\r\n//# sourceMappingURL=env-impl.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nconst isBigInt64ArrayAvailable = typeof BigInt64Array !== 'undefined' && typeof BigInt64Array.from === 'function';\r\nconst isBigUint64ArrayAvailable = typeof BigUint64Array !== 'undefined' && typeof BigUint64Array.from === 'function';\r\n// a runtime map that maps type string to TypedArray constructor. Should match Tensor.DataTypeMap.\r\nconst NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP = new Map([\r\n    ['float32', Float32Array],\r\n    ['uint8', Uint8Array],\r\n    ['int8', Int8Array],\r\n    ['uint16', Uint16Array],\r\n    ['int16', Int16Array],\r\n    ['int32', Int32Array],\r\n    ['bool', Uint8Array],\r\n    ['float64', Float64Array],\r\n    ['uint32', Uint32Array],\r\n]);\r\n// a runtime map that maps type string to TypedArray constructor. Should match Tensor.DataTypeMap.\r\nconst NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP = new Map([\r\n    [Float32Array, 'float32'],\r\n    [Uint8Array, 'uint8'],\r\n    [Int8Array, 'int8'],\r\n    [Uint16Array, 'uint16'],\r\n    [Int16Array, 'int16'],\r\n    [Int32Array, 'int32'],\r\n    [Float64Array, 'float64'],\r\n    [Uint32Array, 'uint32'],\r\n]);\r\nif (isBigInt64ArrayAvailable) {\r\n    NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set('int64', BigInt64Array);\r\n    NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array, 'int64');\r\n}\r\nif (isBigUint64ArrayAvailable) {\r\n    NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set('uint64', BigUint64Array);\r\n    NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array, 'uint64');\r\n}\r\n/**\r\n * calculate size from dims.\r\n *\r\n * @param dims the dims array. May be an illegal input.\r\n */\r\nconst calculateSize = (dims) => {\r\n    let size = 1;\r\n    for (let i = 0; i < dims.length; i++) {\r\n        const dim = dims[i];\r\n        if (typeof dim !== 'number' || !Number.isSafeInteger(dim)) {\r\n            throw new TypeError(`dims[${i}] must be an integer, got: ${dim}`);\r\n        }\r\n        if (dim < 0) {\r\n            throw new RangeError(`dims[${i}] must be a non-negative integer, got: ${dim}`);\r\n        }\r\n        size *= dim;\r\n    }\r\n    return size;\r\n};\r\nexport class Tensor {\r\n    constructor(arg0, arg1, arg2) {\r\n        let type;\r\n        let data;\r\n        let dims;\r\n        // check whether arg0 is type or data\r\n        if (typeof arg0 === 'string') {\r\n            //\r\n            // Override: constructor(type, data, ...)\r\n            //\r\n            type = arg0;\r\n            dims = arg2;\r\n            if (arg0 === 'string') {\r\n                // string tensor\r\n                if (!Array.isArray(arg1)) {\r\n                    throw new TypeError('A string tensor\\'s data must be a string array.');\r\n                }\r\n                // we don't check whether every element in the array is string; this is too slow. we assume it's correct and\r\n                // error will be populated at inference\r\n                data = arg1;\r\n            }\r\n            else {\r\n                // numeric tensor\r\n                const typedArrayConstructor = NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(arg0);\r\n                if (typedArrayConstructor === undefined) {\r\n                    throw new TypeError(`Unsupported tensor type: ${arg0}.`);\r\n                }\r\n                if (Array.isArray(arg1)) {\r\n                    // use 'as any' here because TypeScript's check on type of 'SupportedTypedArrayConstructors.from()' produces\r\n                    // incorrect results.\r\n                    // 'typedArrayConstructor' should be one of the typed array prototype objects.\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    data = typedArrayConstructor.from(arg1);\r\n                }\r\n                else if (arg1 instanceof typedArrayConstructor) {\r\n                    data = arg1;\r\n                }\r\n                else {\r\n                    throw new TypeError(`A ${type} tensor's data must be type of ${typedArrayConstructor}`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            //\r\n            // Override: constructor(data, ...)\r\n            //\r\n            dims = arg1;\r\n            if (Array.isArray(arg0)) {\r\n                // only boolean[] and string[] is supported\r\n                if (arg0.length === 0) {\r\n                    throw new TypeError('Tensor type cannot be inferred from an empty array.');\r\n                }\r\n                const firstElementType = typeof arg0[0];\r\n                if (firstElementType === 'string') {\r\n                    type = 'string';\r\n                    data = arg0;\r\n                }\r\n                else if (firstElementType === 'boolean') {\r\n                    type = 'bool';\r\n                    // 'arg0' is of type 'boolean[]'. Uint8Array.from(boolean[]) actually works, but typescript thinks this is\r\n                    // wrong type. We use 'as any' to make it happy.\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    data = Uint8Array.from(arg0);\r\n                }\r\n                else {\r\n                    throw new TypeError(`Invalid element type of data array: ${firstElementType}.`);\r\n                }\r\n            }\r\n            else {\r\n                // get tensor type from TypedArray\r\n                const mappedType = NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(arg0.constructor);\r\n                if (mappedType === undefined) {\r\n                    throw new TypeError(`Unsupported type for tensor data: ${arg0.constructor}.`);\r\n                }\r\n                type = mappedType;\r\n                data = arg0;\r\n            }\r\n        }\r\n        // type and data is processed, now processing dims\r\n        if (dims === undefined) {\r\n            // assume 1-D tensor if dims omitted\r\n            dims = [data.length];\r\n        }\r\n        else if (!Array.isArray(dims)) {\r\n            throw new TypeError('A tensor\\'s dims must be a number array');\r\n        }\r\n        // perform check\r\n        const size = calculateSize(dims);\r\n        if (size !== data.length) {\r\n            throw new Error(`Tensor's size(${size}) does not match data length(${data.length}).`);\r\n        }\r\n        this.dims = dims;\r\n        this.type = type;\r\n        this.data = data;\r\n        this.size = size;\r\n    }\r\n    //#endregion\r\n    //#region tensor utilities\r\n    reshape(dims) {\r\n        return new Tensor(this.type, this.data, dims);\r\n    }\r\n}\r\n//# sourceMappingURL=tensor-impl.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { Tensor as TensorImpl } from './tensor-impl';\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport const Tensor = TensorImpl;\r\n//# sourceMappingURL=tensor.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { resolveBackend } from './backend-impl';\r\nimport { Tensor } from './tensor';\r\nexport class InferenceSession {\r\n    constructor(handler) {\r\n        this.handler = handler;\r\n    }\r\n    async run(feeds, arg1, arg2) {\r\n        const fetches = {};\r\n        let options = {};\r\n        // check inputs\r\n        if (typeof feeds !== 'object' || feeds === null || feeds instanceof Tensor || Array.isArray(feeds)) {\r\n            throw new TypeError('\\'feeds\\' must be an object that use input names as keys and OnnxValue as corresponding values.');\r\n        }\r\n        let isFetchesEmpty = true;\r\n        // determine which override is being used\r\n        if (typeof arg1 === 'object') {\r\n            if (arg1 === null) {\r\n                throw new TypeError('Unexpected argument[1]: cannot be null.');\r\n            }\r\n            if (arg1 instanceof Tensor) {\r\n                throw new TypeError('\\'fetches\\' cannot be a Tensor');\r\n            }\r\n            if (Array.isArray(arg1)) {\r\n                if (arg1.length === 0) {\r\n                    throw new TypeError('\\'fetches\\' cannot be an empty array.');\r\n                }\r\n                isFetchesEmpty = false;\r\n                // output names\r\n                for (const name of arg1) {\r\n                    if (typeof name !== 'string') {\r\n                        throw new TypeError('\\'fetches\\' must be a string array or an object.');\r\n                    }\r\n                    if (this.outputNames.indexOf(name) === -1) {\r\n                        throw new RangeError(`'fetches' contains invalid output name: ${name}.`);\r\n                    }\r\n                    fetches[name] = null;\r\n                }\r\n                if (typeof arg2 === 'object' && arg2 !== null) {\r\n                    options = arg2;\r\n                }\r\n                else if (typeof arg2 !== 'undefined') {\r\n                    throw new TypeError('\\'options\\' must be an object.');\r\n                }\r\n            }\r\n            else {\r\n                // decide whether arg1 is fetches or options\r\n                // if any output name is present and its value is valid OnnxValue, we consider it fetches\r\n                let isFetches = false;\r\n                const arg1Keys = Object.getOwnPropertyNames(arg1);\r\n                for (const name of this.outputNames) {\r\n                    if (arg1Keys.indexOf(name) !== -1) {\r\n                        const v = arg1[name];\r\n                        if (v === null || v instanceof Tensor) {\r\n                            isFetches = true;\r\n                            isFetchesEmpty = false;\r\n                            fetches[name] = v;\r\n                        }\r\n                    }\r\n                }\r\n                if (isFetches) {\r\n                    if (typeof arg2 === 'object' && arg2 !== null) {\r\n                        options = arg2;\r\n                    }\r\n                    else if (typeof arg2 !== 'undefined') {\r\n                        throw new TypeError('\\'options\\' must be an object.');\r\n                    }\r\n                }\r\n                else {\r\n                    options = arg1;\r\n                }\r\n            }\r\n        }\r\n        else if (typeof arg1 !== 'undefined') {\r\n            throw new TypeError('Unexpected argument[1]: must be \\'fetches\\' or \\'options\\'.');\r\n        }\r\n        // check if all inputs are in feed\r\n        for (const name of this.inputNames) {\r\n            if (typeof feeds[name] === 'undefined') {\r\n                throw new Error(`input '${name}' is missing in 'feeds'.`);\r\n            }\r\n        }\r\n        // if no fetches is specified, we use the full output names list\r\n        if (isFetchesEmpty) {\r\n            for (const name of this.outputNames) {\r\n                fetches[name] = null;\r\n            }\r\n        }\r\n        // feeds, fetches and options are prepared\r\n        const results = await this.handler.run(feeds, fetches, options);\r\n        const returnValue = {};\r\n        for (const key in results) {\r\n            if (Object.hasOwnProperty.call(results, key)) {\r\n                returnValue[key] = new Tensor(results[key].type, results[key].data, results[key].dims);\r\n            }\r\n        }\r\n        return returnValue;\r\n    }\r\n    static async create(arg0, arg1, arg2, arg3) {\r\n        // either load from a file or buffer\r\n        let filePathOrUint8Array;\r\n        let options = {};\r\n        if (typeof arg0 === 'string') {\r\n            filePathOrUint8Array = arg0;\r\n            if (typeof arg1 === 'object' && arg1 !== null) {\r\n                options = arg1;\r\n            }\r\n            else if (typeof arg1 !== 'undefined') {\r\n                throw new TypeError('\\'options\\' must be an object.');\r\n            }\r\n        }\r\n        else if (arg0 instanceof Uint8Array) {\r\n            filePathOrUint8Array = arg0;\r\n            if (typeof arg1 === 'object' && arg1 !== null) {\r\n                options = arg1;\r\n            }\r\n            else if (typeof arg1 !== 'undefined') {\r\n                throw new TypeError('\\'options\\' must be an object.');\r\n            }\r\n        }\r\n        else if (arg0 instanceof ArrayBuffer ||\r\n            (typeof SharedArrayBuffer !== 'undefined' && arg0 instanceof SharedArrayBuffer)) {\r\n            const buffer = arg0;\r\n            let byteOffset = 0;\r\n            let byteLength = arg0.byteLength;\r\n            if (typeof arg1 === 'object' && arg1 !== null) {\r\n                options = arg1;\r\n            }\r\n            else if (typeof arg1 === 'number') {\r\n                byteOffset = arg1;\r\n                if (!Number.isSafeInteger(byteOffset)) {\r\n                    throw new RangeError('\\'byteOffset\\' must be an integer.');\r\n                }\r\n                if (byteOffset < 0 || byteOffset >= buffer.byteLength) {\r\n                    throw new RangeError(`'byteOffset' is out of range [0, ${buffer.byteLength}).`);\r\n                }\r\n                byteLength = arg0.byteLength - byteOffset;\r\n                if (typeof arg2 === 'number') {\r\n                    byteLength = arg2;\r\n                    if (!Number.isSafeInteger(byteLength)) {\r\n                        throw new RangeError('\\'byteLength\\' must be an integer.');\r\n                    }\r\n                    if (byteLength <= 0 || byteOffset + byteLength > buffer.byteLength) {\r\n                        throw new RangeError(`'byteLength' is out of range (0, ${buffer.byteLength - byteOffset}].`);\r\n                    }\r\n                    if (typeof arg3 === 'object' && arg3 !== null) {\r\n                        options = arg3;\r\n                    }\r\n                    else if (typeof arg3 !== 'undefined') {\r\n                        throw new TypeError('\\'options\\' must be an object.');\r\n                    }\r\n                }\r\n                else if (typeof arg2 !== 'undefined') {\r\n                    throw new TypeError('\\'byteLength\\' must be a number.');\r\n                }\r\n            }\r\n            else if (typeof arg1 !== 'undefined') {\r\n                throw new TypeError('\\'options\\' must be an object.');\r\n            }\r\n            filePathOrUint8Array = new Uint8Array(buffer, byteOffset, byteLength);\r\n        }\r\n        else {\r\n            throw new TypeError('Unexpected argument[0]: must be \\'path\\' or \\'buffer\\'.');\r\n        }\r\n        // get backend hints\r\n        const eps = options.executionProviders || [];\r\n        const backendHints = eps.map(i => typeof i === 'string' ? i : i.name);\r\n        const backend = await resolveBackend(backendHints);\r\n        const handler = await backend.createSessionHandler(filePathOrUint8Array, options);\r\n        return new InferenceSession(handler);\r\n    }\r\n    startProfiling() {\r\n        this.handler.startProfiling();\r\n    }\r\n    endProfiling() {\r\n        this.handler.endProfiling();\r\n    }\r\n    get inputNames() {\r\n        return this.handler.inputNames;\r\n    }\r\n    get outputNames() {\r\n        return this.handler.outputNames;\r\n    }\r\n}\r\n//# sourceMappingURL=inference-session-impl.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { InferenceSession as InferenceSessionImpl } from './inference-session-impl';\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport const InferenceSession = InferenceSessionImpl;\r\n//# sourceMappingURL=inference-session.js.map","\r\nvar ortWasm = (function() {\r\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\r\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\r\n  return (\r\nfunction(ortWasm) {\r\n  ortWasm = ortWasm || {};\r\n\r\n\r\nvar c;c||(c=typeof ortWasm !== 'undefined' ? ortWasm : {});var aa,g;c.ready=new Promise(function(a,b){aa=a;g=b});var r={},t;for(t in c)c.hasOwnProperty(t)&&(r[t]=c[t]);var v=\"./this.program\",ba=\"object\"===typeof window,w=\"function\"===typeof importScripts,ca=\"object\"===typeof process&&\"object\"===typeof process.versions&&\"string\"===typeof process.versions.node,x=\"\",y,z,B,C,D;\r\nif(ca)x=w?require(\"path\").dirname(x)+\"/\":__dirname+\"/\",y=function(a,b){C||(C=require(\"fs\"));D||(D=require(\"path\"));a=D.normalize(a);return C.readFileSync(a,b?null:\"utf8\")},B=function(a){a=y(a,!0);a.buffer||(a=new Uint8Array(a));a.buffer||E(\"Assertion failed: undefined\");return a},z=function(a,b,e){C||(C=require(\"fs\"));D||(D=require(\"path\"));a=D.normalize(a);C.readFile(a,function(f,h){f?e(f):b(h.buffer)})},1<process.argv.length&&(v=process.argv[1].replace(/\\\\/g,\"/\")),process.argv.slice(2),process.on(\"uncaughtException\",\r\nfunction(a){throw a;}),process.on(\"unhandledRejection\",E),c.inspect=function(){return\"[Emscripten Module object]\"};else if(ba||w)w?x=self.location.href:\"undefined\"!==typeof document&&document.currentScript&&(x=document.currentScript.src),_scriptDir&&(x=_scriptDir),0!==x.indexOf(\"blob:\")?x=x.substr(0,x.lastIndexOf(\"/\")+1):x=\"\",y=function(a){var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.send(null);return b.responseText},w&&(B=function(a){var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.responseType=\"arraybuffer\";\r\nb.send(null);return new Uint8Array(b.response)}),z=function(a,b,e){var f=new XMLHttpRequest;f.open(\"GET\",a,!0);f.responseType=\"arraybuffer\";f.onload=function(){200==f.status||0==f.status&&f.response?b(f.response):e()};f.onerror=e;f.send(null)};var da=c.print||console.log.bind(console),F=c.printErr||console.warn.bind(console);for(t in r)r.hasOwnProperty(t)&&(c[t]=r[t]);r=null;c.thisProgram&&(v=c.thisProgram);var H;c.wasmBinary&&(H=c.wasmBinary);var noExitRuntime=c.noExitRuntime||!1;\r\n\"object\"!==typeof WebAssembly&&E(\"no native wasm support detected\");var I,ea=!1,fa=\"undefined\"!==typeof TextDecoder?new TextDecoder(\"utf8\"):void 0;\r\nfunction ha(a,b,e){var f=b+e;for(e=b;a[e]&&!(e>=f);)++e;if(16<e-b&&a.subarray&&fa)return fa.decode(a.subarray(b,e));for(f=\"\";b<e;){var h=a[b++];if(h&128){var k=a[b++]&63;if(192==(h&224))f+=String.fromCharCode((h&31)<<6|k);else{var l=a[b++]&63;h=224==(h&240)?(h&15)<<12|k<<6|l:(h&7)<<18|k<<12|l<<6|a[b++]&63;65536>h?f+=String.fromCharCode(h):(h-=65536,f+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else f+=String.fromCharCode(h)}return f}function J(a,b){return a?ha(K,a,b):\"\"}\r\nfunction L(a,b,e,f){if(!(0<f))return 0;var h=e;f=e+f-1;for(var k=0;k<a.length;++k){var l=a.charCodeAt(k);if(55296<=l&&57343>=l){var q=a.charCodeAt(++k);l=65536+((l&1023)<<10)|q&1023}if(127>=l){if(e>=f)break;b[e++]=l}else{if(2047>=l){if(e+1>=f)break;b[e++]=192|l>>6}else{if(65535>=l){if(e+2>=f)break;b[e++]=224|l>>12}else{if(e+3>=f)break;b[e++]=240|l>>18;b[e++]=128|l>>12&63}b[e++]=128|l>>6&63}b[e++]=128|l&63}}b[e]=0;return e-h}\r\nfunction ia(a){for(var b=0,e=0;e<a.length;++e){var f=a.charCodeAt(e);55296<=f&&57343>=f&&(f=65536+((f&1023)<<10)|a.charCodeAt(++e)&1023);127>=f?++b:b=2047>=f?b+2:65535>=f?b+3:b+4}return b}function ja(a){var b=ia(a)+1,e=ka(b);e&&L(a,M,e,b);return e}var la,M,K,N;\r\nfunction ma(){var a=I.buffer;la=a;c.HEAP8=M=new Int8Array(a);c.HEAP16=new Int16Array(a);c.HEAP32=N=new Int32Array(a);c.HEAPU8=K=new Uint8Array(a);c.HEAPU16=new Uint16Array(a);c.HEAPU32=new Uint32Array(a);c.HEAPF32=new Float32Array(a);c.HEAPF64=new Float64Array(a)}var na,oa=[],pa=[],qa=[],ra=[];function sa(){var a=c.preRun.shift();oa.unshift(a)}var O=0,ta=null,P=null;c.preloadedImages={};c.preloadedAudios={};\r\nfunction E(a){if(c.onAbort)c.onAbort(a);F(a);ea=!0;a=new WebAssembly.RuntimeError(\"abort(\"+a+\"). Build with -s ASSERTIONS=1 for more info.\");g(a);throw a;}function ua(){return Q.startsWith(\"data:application/octet-stream;base64,\")}var Q;Q=\"ort-wasm.wasm\";if(!ua()){var va=Q;Q=c.locateFile?c.locateFile(va,x):x+va}function wa(){var a=Q;try{if(a==Q&&H)return new Uint8Array(H);if(B)return B(a);throw\"both async and sync fetching of the wasm failed\";}catch(b){E(b)}}\r\nfunction xa(){if(!H&&(ba||w)){if(\"function\"===typeof fetch&&!Q.startsWith(\"file://\"))return fetch(Q,{credentials:\"same-origin\"}).then(function(a){if(!a.ok)throw\"failed to load wasm binary file at '\"+Q+\"'\";return a.arrayBuffer()}).catch(function(){return wa()});if(z)return new Promise(function(a,b){z(Q,function(e){a(new Uint8Array(e))},b)})}return Promise.resolve().then(function(){return wa()})}\r\nfunction ya(a){for(;0<a.length;){var b=a.shift();if(\"function\"==typeof b)b(c);else{var e=b.Ea;\"number\"===typeof e?void 0===b.xa?na.get(e)():na.get(e)(b.xa):e(void 0===b.xa?null:b.xa)}}}function za(a){this.ya=a-16;this.Na=function(b){N[this.ya+4>>2]=b};this.Ka=function(b){N[this.ya+8>>2]=b};this.La=function(){N[this.ya>>2]=0};this.Ja=function(){M[this.ya+12>>0]=0};this.Ma=function(){M[this.ya+13>>0]=0};this.Ga=function(b,e){this.Na(b);this.Ka(e);this.La();this.Ja();this.Ma()}}\r\nvar Aa=0,Ba={},Ca=[null,[],[]],R={},S;S=ca?function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:function(){return performance.now()};var Da={};function Ea(){if(!Fa){var a={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(\"object\"===typeof navigator&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\",_:v||\"./this.program\"},b;for(b in Da)void 0===Da[b]?delete a[b]:a[b]=Da[b];var e=[];for(b in a)e.push(b+\"=\"+a[b]);Fa=e}return Fa}var Fa;\r\nfunction T(a,b){a=new Date(1E3*N[a>>2]);N[b>>2]=a.getUTCSeconds();N[b+4>>2]=a.getUTCMinutes();N[b+8>>2]=a.getUTCHours();N[b+12>>2]=a.getUTCDate();N[b+16>>2]=a.getUTCMonth();N[b+20>>2]=a.getUTCFullYear()-1900;N[b+24>>2]=a.getUTCDay();N[b+36>>2]=0;N[b+32>>2]=0;N[b+28>>2]=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864E5|0;T.Da||(T.Da=ja(\"GMT\"));N[b+40>>2]=T.Da;return b}\r\nfunction Ga(){function a(l){return(l=l.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?l[1]:\"GMT\"}if(!Ka){Ka=!0;var b=(new Date).getFullYear(),e=new Date(b,0,1),f=new Date(b,6,1);b=e.getTimezoneOffset();var h=f.getTimezoneOffset(),k=Math.max(b,h);N[La()>>2]=60*k;N[Ma()>>2]=Number(b!=h);e=a(e);f=a(f);e=ja(e);f=ja(f);h<b?(N[U()>>2]=e,N[U()+4>>2]=f):(N[U()>>2]=f,N[U()+4>>2]=e)}}var Ka;function V(a){return 0===a%4&&(0!==a%100||0===a%400)}function Na(a,b){for(var e=0,f=0;f<=b;e+=a[f++]);return e}\r\nvar W=[31,29,31,30,31,30,31,31,30,31,30,31],X=[31,28,31,30,31,30,31,31,30,31,30,31];function Y(a,b){for(a=new Date(a.getTime());0<b;){var e=a.getMonth(),f=(V(a.getFullYear())?W:X)[e];if(b>f-a.getDate())b-=f-a.getDate()+1,a.setDate(1),11>e?a.setMonth(e+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);break}}return a}\r\nfunction Oa(a,b,e,f){function h(d,m,n){for(d=\"number\"===typeof d?d.toString():d||\"\";d.length<m;)d=n[0]+d;return d}function k(d,m){return h(d,m,\"0\")}function l(d,m){function n(Ha){return 0>Ha?-1:0<Ha?1:0}var A;0===(A=n(d.getFullYear()-m.getFullYear()))&&0===(A=n(d.getMonth()-m.getMonth()))&&(A=n(d.getDate()-m.getDate()));return A}function q(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),\r\n0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function G(d){d=Y(new Date(d.va+1900,0,1),d.Ca);var m=new Date(d.getFullYear()+1,0,4),n=q(new Date(d.getFullYear(),0,4));m=q(m);return 0>=l(n,d)?0>=l(m,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}var u=N[f+40>>2];f={Qa:N[f>>2],Pa:N[f+4>>2],Aa:N[f+8>>2],za:N[f+12>>2],wa:N[f+16>>2],va:N[f+20>>2],Ba:N[f+24>>2],Ca:N[f+28>>2],Ya:N[f+32>>2],Oa:N[f+\r\n36>>2],Ra:u?J(u):\"\"};e=J(e);u={\"%c\":\"%a %b %d %H:%M:%S %Y\",\"%D\":\"%m/%d/%y\",\"%F\":\"%Y-%m-%d\",\"%h\":\"%b\",\"%r\":\"%I:%M:%S %p\",\"%R\":\"%H:%M\",\"%T\":\"%H:%M:%S\",\"%x\":\"%m/%d/%y\",\"%X\":\"%H:%M:%S\",\"%Ec\":\"%c\",\"%EC\":\"%C\",\"%Ex\":\"%m/%d/%y\",\"%EX\":\"%H:%M:%S\",\"%Ey\":\"%y\",\"%EY\":\"%Y\",\"%Od\":\"%d\",\"%Oe\":\"%e\",\"%OH\":\"%H\",\"%OI\":\"%I\",\"%Om\":\"%m\",\"%OM\":\"%M\",\"%OS\":\"%S\",\"%Ou\":\"%u\",\"%OU\":\"%U\",\"%OV\":\"%V\",\"%Ow\":\"%w\",\"%OW\":\"%W\",\"%Oy\":\"%y\"};for(var p in u)e=e.replace(new RegExp(p,\"g\"),u[p]);var Ia=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),\r\nJa=\"January February March April May June July August September October November December\".split(\" \");u={\"%a\":function(d){return Ia[d.Ba].substring(0,3)},\"%A\":function(d){return Ia[d.Ba]},\"%b\":function(d){return Ja[d.wa].substring(0,3)},\"%B\":function(d){return Ja[d.wa]},\"%C\":function(d){return k((d.va+1900)/100|0,2)},\"%d\":function(d){return k(d.za,2)},\"%e\":function(d){return h(d.za,2,\" \")},\"%g\":function(d){return G(d).toString().substring(2)},\"%G\":function(d){return G(d)},\"%H\":function(d){return k(d.Aa,\r\n2)},\"%I\":function(d){d=d.Aa;0==d?d=12:12<d&&(d-=12);return k(d,2)},\"%j\":function(d){return k(d.za+Na(V(d.va+1900)?W:X,d.wa-1),3)},\"%m\":function(d){return k(d.wa+1,2)},\"%M\":function(d){return k(d.Pa,2)},\"%n\":function(){return\"\\n\"},\"%p\":function(d){return 0<=d.Aa&&12>d.Aa?\"AM\":\"PM\"},\"%S\":function(d){return k(d.Qa,2)},\"%t\":function(){return\"\\t\"},\"%u\":function(d){return d.Ba||7},\"%U\":function(d){var m=new Date(d.va+1900,0,1),n=0===m.getDay()?m:Y(m,7-m.getDay());d=new Date(d.va+1900,d.wa,d.za);return 0>\r\nl(n,d)?k(Math.ceil((31-n.getDate()+(Na(V(d.getFullYear())?W:X,d.getMonth()-1)-31)+d.getDate())/7),2):0===l(n,m)?\"01\":\"00\"},\"%V\":function(d){var m=new Date(d.va+1901,0,4),n=q(new Date(d.va+1900,0,4));m=q(m);var A=Y(new Date(d.va+1900,0,1),d.Ca);return 0>l(A,n)?\"53\":0>=l(m,A)?\"01\":k(Math.ceil((n.getFullYear()<d.va+1900?d.Ca+32-n.getDate():d.Ca+1-n.getDate())/7),2)},\"%w\":function(d){return d.Ba},\"%W\":function(d){var m=new Date(d.va,0,1),n=1===m.getDay()?m:Y(m,0===m.getDay()?1:7-m.getDay()+1);d=new Date(d.va+\r\n1900,d.wa,d.za);return 0>l(n,d)?k(Math.ceil((31-n.getDate()+(Na(V(d.getFullYear())?W:X,d.getMonth()-1)-31)+d.getDate())/7),2):0===l(n,m)?\"01\":\"00\"},\"%y\":function(d){return(d.va+1900).toString().substring(2)},\"%Y\":function(d){return d.va+1900},\"%z\":function(d){d=d.Oa;var m=0<=d;d=Math.abs(d)/60;return(m?\"+\":\"-\")+String(\"0000\"+(d/60*100+d%60)).slice(-4)},\"%Z\":function(d){return d.Ra},\"%%\":function(){return\"%\"}};for(p in u)e.includes(p)&&(e=e.replace(new RegExp(p,\"g\"),u[p](f)));p=Pa(e);if(p.length>b)return 0;\r\nM.set(p,a);return p.length-1}function Pa(a){var b=Array(ia(a)+1);L(a,b,0,b.length);return b}\r\nvar Ta={a:function(a){return ka(a+16)+16},c:function(a,b){qa.unshift({Ea:a,xa:b})},d:function(a,b){qa.unshift({Ea:a,xa:b})},b:function(a,b,e){(new za(a)).Ga(b,e);Aa++;throw a;},D:function(a,b){a=J(a);return R.Sa(a,b)},m:function(){return 0},I:function(){},L:function(){},o:function(){return 42},x:function(){return 0},H:function(){},G:function(a,b){a=J(a);return R.Ta(a,b)},K:function(a,b,e,f,h,k){k<<=12;if(0!==(f&16)&&0!==a%65536)b=-28;else if(0!==(f&32)){a=65536*Math.ceil(b/65536);var l=Qa(65536,a);\r\nl?(K.fill(0,l,l+a),a=l):a=0;a?(Ba[a]={Ia:a,Ha:b,Fa:!0,fd:h,Xa:e,flags:f,offset:k},b=a):b=-48}else b=-52;return b},J:function(a,b){var e=Ba[a];0!==b&&e?(b===e.Ha&&(Ba[a]=null,e.Fa&&Ra(e.Ia)),a=0):a=-28;return a},j:function(){},C:function(a,b,e){a=J(a);return R.Ua(a,b,e)},E:function(){},r:function(){},F:function(){},h:function(){E()},p:function(a,b){if(0===a)a=Date.now();else if(1===a||4===a)a=S();else return N[Sa()>>2]=28,-1;N[b>>2]=a/1E3|0;N[b+4>>2]=a%1E3*1E6|0;return 0},s:function(a,b){return a-\r\nb},P:function(){E(\"To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking\")},g:function(){E(\"To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking\")},Q:function(){E(\"To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking\")},O:function(){E(\"To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking\")},\r\nM:function(){return 2147483648},v:function(a,b,e){K.copyWithin(a,b,b+e)},i:function(a){var b=K.length;a>>>=0;if(2147483648<a)return!1;for(var e=1;4>=e;e*=2){var f=b*(1+.2/e);f=Math.min(f,a+100663296);f=Math.max(a,f);0<f%65536&&(f+=65536-f%65536);a:{try{I.grow(Math.min(2147483648,f)-la.byteLength+65535>>>16);ma();var h=1;break a}catch(k){}h=void 0}if(h)return!0}return!1},B:function(a){for(var b=S();S()-b<a;);},z:function(a,b){var e=0;Ea().forEach(function(f,h){var k=b+e;h=N[a+4*h>>2]=k;for(k=0;k<f.length;++k)M[h++>>\r\n0]=f.charCodeAt(k);M[h>>0]=0;e+=f.length+1});return 0},A:function(a,b){var e=Ea();N[a>>2]=e.length;var f=0;e.forEach(function(h){f+=h.length+1});N[b>>2]=f;return 0},f:function(){return 0},y:function(a,b){a=1==a||2==a?2:E();M[b>>0]=a;return 0},n:function(a,b,e,f){a=R.Wa(a);b=R.Va(a,b,e);N[f>>2]=b;return 0},u:function(){},q:function(a,b,e,f){for(var h=0,k=0;k<e;k++){for(var l=N[b+8*k>>2],q=N[b+(8*k+4)>>2],G=0;G<q;G++){var u=K[l+G],p=Ca[a];0===u||10===u?((1===a?da:F)(ha(p,0)),p.length=0):p.push(u)}h+=\r\nq}N[f>>2]=h;return 0},w:function(a){var b=Date.now();N[a>>2]=b/1E3|0;N[a+4>>2]=b%1E3*1E3|0;return 0},t:T,l:function(a,b){Ga();a=new Date(1E3*N[a>>2]);N[b>>2]=a.getSeconds();N[b+4>>2]=a.getMinutes();N[b+8>>2]=a.getHours();N[b+12>>2]=a.getDate();N[b+16>>2]=a.getMonth();N[b+20>>2]=a.getFullYear()-1900;N[b+24>>2]=a.getDay();var e=new Date(a.getFullYear(),0,1);N[b+28>>2]=(a.getTime()-e.getTime())/864E5|0;N[b+36>>2]=-(60*a.getTimezoneOffset());var f=(new Date(a.getFullYear(),6,1)).getTimezoneOffset();e=\r\ne.getTimezoneOffset();a=(f!=e&&a.getTimezoneOffset()==Math.min(e,f))|0;N[b+32>>2]=a;a=N[U()+(a?4:0)>>2];N[b+40>>2]=a;return b},k:function(a){Ga();var b=new Date(N[a+20>>2]+1900,N[a+16>>2],N[a+12>>2],N[a+8>>2],N[a+4>>2],N[a>>2],0),e=N[a+32>>2],f=b.getTimezoneOffset(),h=new Date(b.getFullYear(),0,1),k=(new Date(b.getFullYear(),6,1)).getTimezoneOffset(),l=h.getTimezoneOffset(),q=Math.min(l,k);0>e?N[a+32>>2]=Number(k!=l&&q==f):0<e!=(q==f)&&(k=Math.max(l,k),b.setTime(b.getTime()+6E4*((0<e?q:k)-f)));N[a+\r\n24>>2]=b.getDay();N[a+28>>2]=(b.getTime()-h.getTime())/864E5|0;N[a>>2]=b.getSeconds();N[a+4>>2]=b.getMinutes();N[a+8>>2]=b.getHours();N[a+12>>2]=b.getDate();N[a+16>>2]=b.getMonth();return b.getTime()/1E3|0},N:Oa,e:function(a,b,e,f){return Oa(a,b,e,f)}};\r\n(function(){function a(h){c.asm=h.exports;I=c.asm.R;ma();na=c.asm.ua;pa.unshift(c.asm.S);O--;c.monitorRunDependencies&&c.monitorRunDependencies(O);0==O&&(null!==ta&&(clearInterval(ta),ta=null),P&&(h=P,P=null,h()))}function b(h){a(h.instance)}function e(h){return xa().then(function(k){return WebAssembly.instantiate(k,f)}).then(h,function(k){F(\"failed to asynchronously prepare wasm: \"+k);E(k)})}var f={a:Ta};O++;c.monitorRunDependencies&&c.monitorRunDependencies(O);if(c.instantiateWasm)try{return c.instantiateWasm(f,\r\na)}catch(h){return F(\"Module.instantiateWasm callback failed with error: \"+h),!1}(function(){return H||\"function\"!==typeof WebAssembly.instantiateStreaming||ua()||Q.startsWith(\"file://\")||\"function\"!==typeof fetch?e(b):fetch(Q,{credentials:\"same-origin\"}).then(function(h){return WebAssembly.instantiateStreaming(h,f).then(b,function(k){F(\"wasm streaming compile failed: \"+k);F(\"falling back to ArrayBuffer instantiation\");return e(b)})})})().catch(g);return{}})();\r\nc.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.S).apply(null,arguments)};c._OrtInit=function(){return(c._OrtInit=c.asm.T).apply(null,arguments)};c._OrtCreateSessionOptions=function(){return(c._OrtCreateSessionOptions=c.asm.U).apply(null,arguments)};c._OrtAddSessionConfigEntry=function(){return(c._OrtAddSessionConfigEntry=c.asm.V).apply(null,arguments)};c._OrtReleaseSessionOptions=function(){return(c._OrtReleaseSessionOptions=c.asm.W).apply(null,arguments)};\r\nc._OrtCreateSession=function(){return(c._OrtCreateSession=c.asm.X).apply(null,arguments)};c._OrtReleaseSession=function(){return(c._OrtReleaseSession=c.asm.Y).apply(null,arguments)};c._OrtGetInputCount=function(){return(c._OrtGetInputCount=c.asm.Z).apply(null,arguments)};c._OrtGetOutputCount=function(){return(c._OrtGetOutputCount=c.asm._).apply(null,arguments)};c._OrtGetInputName=function(){return(c._OrtGetInputName=c.asm.$).apply(null,arguments)};\r\nc._OrtGetOutputName=function(){return(c._OrtGetOutputName=c.asm.aa).apply(null,arguments)};c._OrtFree=function(){return(c._OrtFree=c.asm.ba).apply(null,arguments)};c._OrtCreateTensor=function(){return(c._OrtCreateTensor=c.asm.ca).apply(null,arguments)};c._OrtGetTensorData=function(){return(c._OrtGetTensorData=c.asm.da).apply(null,arguments)};c._OrtReleaseTensor=function(){return(c._OrtReleaseTensor=c.asm.ea).apply(null,arguments)};\r\nc._OrtCreateRunOptions=function(){return(c._OrtCreateRunOptions=c.asm.fa).apply(null,arguments)};c._OrtAddRunConfigEntry=function(){return(c._OrtAddRunConfigEntry=c.asm.ga).apply(null,arguments)};c._OrtReleaseRunOptions=function(){return(c._OrtReleaseRunOptions=c.asm.ha).apply(null,arguments)};c._OrtRun=function(){return(c._OrtRun=c.asm.ia).apply(null,arguments)};c._OrtEndProfiling=function(){return(c._OrtEndProfiling=c.asm.ja).apply(null,arguments)};\r\nvar ka=c._malloc=function(){return(ka=c._malloc=c.asm.ka).apply(null,arguments)},Sa=c.___errno_location=function(){return(Sa=c.___errno_location=c.asm.la).apply(null,arguments)},Ra=c._free=function(){return(Ra=c._free=c.asm.ma).apply(null,arguments)},U=c.__get_tzname=function(){return(U=c.__get_tzname=c.asm.na).apply(null,arguments)},Ma=c.__get_daylight=function(){return(Ma=c.__get_daylight=c.asm.oa).apply(null,arguments)},La=c.__get_timezone=function(){return(La=c.__get_timezone=c.asm.pa).apply(null,\r\narguments)},Ua=c.stackSave=function(){return(Ua=c.stackSave=c.asm.qa).apply(null,arguments)},Va=c.stackRestore=function(){return(Va=c.stackRestore=c.asm.ra).apply(null,arguments)},Wa=c.stackAlloc=function(){return(Wa=c.stackAlloc=c.asm.sa).apply(null,arguments)},Qa=c._memalign=function(){return(Qa=c._memalign=c.asm.ta).apply(null,arguments)};c.UTF8ToString=J;c.stringToUTF8=function(a,b,e){return L(a,K,b,e)};c.lengthBytesUTF8=ia;c.stackSave=Ua;c.stackRestore=Va;c.stackAlloc=Wa;var Z;\r\nP=function Xa(){Z||Ya();Z||(P=Xa)};\r\nfunction Ya(){function a(){if(!Z&&(Z=!0,c.calledRun=!0,!ea)){ya(pa);aa(c);if(c.onRuntimeInitialized)c.onRuntimeInitialized();if(c.postRun)for(\"function\"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var b=c.postRun.shift();ra.unshift(b)}ya(ra)}}if(!(0<O)){if(c.preRun)for(\"function\"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)sa();ya(oa);0<O||(c.setStatus?(c.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){c.setStatus(\"\")},1);a()},1)):a())}}c.run=Ya;\r\nif(c.preInit)for(\"function\"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();Ya();\r\n\r\n\r\n  return ortWasm.ready\r\n}\r\n);\r\n})();\r\nif (typeof exports === 'object' && typeof module === 'object')\r\n  module.exports = ortWasm;\r\nelse if (typeof define === 'function' && define['amd'])\r\n  define([], function() { return ortWasm; });\r\nelse if (typeof exports === 'object')\r\n  exports[\"ortWasm\"] = ortWasm;\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {readFile} from 'fs';\r\nimport {Backend, env, InferenceSession, SessionHandler} from 'onnxruntime-common';\r\nimport {cpus} from 'os';\r\nimport {promisify} from 'util';\r\nimport {initWasm} from './wasm/proxy-wrapper';\r\n\r\nimport {OnnxruntimeWebAssemblySessionHandler} from './wasm/session-handler';\r\n\r\n/**\r\n * This function initializes all flags for WebAssembly.\r\n *\r\n * Those flags are accessible from `ort.env.wasm`. Users are allow to set those flags before the first inference session\r\n * being created, to override default value.\r\n */\r\nexport const initializeFlags = (): void => {\r\n  if (typeof env.wasm.initTimeout !== 'number' || env.wasm.initTimeout < 0) {\r\n    env.wasm.initTimeout = 0;\r\n  }\r\n\r\n  if (typeof env.wasm.simd !== 'boolean') {\r\n    env.wasm.simd = true;\r\n  }\r\n\r\n  if (typeof env.wasm.proxy !== 'boolean') {\r\n    env.wasm.proxy = false;\r\n  }\r\n\r\n  if (typeof env.wasm.numThreads !== 'number' || !Number.isInteger(env.wasm.numThreads) || env.wasm.numThreads <= 0) {\r\n    const numCpuLogicalCores = typeof navigator === 'undefined' ? cpus().length : navigator.hardwareConcurrency;\r\n    env.wasm.numThreads = Math.min(4, Math.ceil((numCpuLogicalCores || 1) / 2));\r\n  }\r\n};\r\n\r\nclass OnnxruntimeWebAssemblyBackend implements Backend {\r\n  async init(): Promise<void> {\r\n    // populate wasm flags\r\n    initializeFlags();\r\n\r\n    // init wasm\r\n    await initWasm();\r\n  }\r\n  createSessionHandler(path: string, options?: InferenceSession.SessionOptions): Promise<SessionHandler>;\r\n  createSessionHandler(buffer: Uint8Array, options?: InferenceSession.SessionOptions): Promise<SessionHandler>;\r\n  async createSessionHandler(pathOrBuffer: string|Uint8Array, options?: InferenceSession.SessionOptions):\r\n      Promise<SessionHandler> {\r\n    let buffer: Uint8Array;\r\n    if (typeof pathOrBuffer === 'string') {\r\n      if (typeof fetch === 'undefined') {\r\n        // node\r\n        buffer = await promisify(readFile)(pathOrBuffer);\r\n      } else {\r\n        // browser\r\n        const response = await fetch(pathOrBuffer);\r\n        const arrayBuffer = await response.arrayBuffer();\r\n        buffer = new Uint8Array(arrayBuffer);\r\n      }\r\n    } else {\r\n      buffer = pathOrBuffer;\r\n    }\r\n\r\n    const handler = new OnnxruntimeWebAssemblySessionHandler();\r\n    await handler.loadModel(buffer, options);\r\n    return Promise.resolve(handler);\r\n  }\r\n}\r\n\r\nexport const wasmBackend = new OnnxruntimeWebAssemblyBackend();\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\n/* eslint-disable @typescript-eslint/no-var-requires, @typescript-eslint/no-require-imports */\r\n// We use \"require\" instead of \"import\" here because import statement must be put in top level. Our current code does\r\n// not allow terser to tree-shaking code as expected because some codes are treated as having side effects.\r\n// So we import code inside the if-clause to allow terser remove the code safely.\r\n\r\nexport * from 'onnxruntime-common';\r\nimport {registerBackend} from 'onnxruntime-common';\r\n\r\nif (!BUILD_DEFS.DISABLE_WEBGL) {\r\n  const onnxjsBackend = require('./backend-onnxjs').onnxjsBackend;\r\n  registerBackend('webgl', onnxjsBackend, -1);\r\n}\r\nif (!BUILD_DEFS.DISABLE_WASM) {\r\n  const wasmBackend = require('./backend-wasm').wasmBackend;\r\n  registerBackend('wasm', wasmBackend, 0);\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\ninterface ExtraOptionsHandler {\r\n  (name: string, value: string): void;\r\n}\r\n\r\nexport const iterateExtraOptions =\r\n    (options: Record<string, unknown>, prefix: string, seen: WeakSet<Record<string, unknown>>,\r\n     handler: ExtraOptionsHandler): void => {\r\n      if (typeof options == 'object' && options !== null) {\r\n        if (seen.has(options)) {\r\n          throw new Error('Circular reference in options');\r\n        } else {\r\n          seen.add(options);\r\n        }\r\n      }\r\n\r\n      Object.entries(options).forEach(([key, value]) => {\r\n        const name = (prefix) ? prefix + key : key;\r\n        if (typeof value === 'object') {\r\n          iterateExtraOptions(value as Record<string, unknown>, name + '.', seen, handler);\r\n        } else if (typeof value === 'string' || typeof value === 'number') {\r\n          handler(name, value.toString());\r\n        } else if (typeof value === 'boolean') {\r\n          handler(name, (value) ? '1' : '0');\r\n        } else {\r\n          throw new Error(`Can't handle extra config type: ${typeof value}`);\r\n        }\r\n      });\r\n    };\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {env, InferenceSession} from 'onnxruntime-common';\r\nimport {OrtWasmMessage, SerializableSessionMetadata, SerializableTensor} from './proxy-messages';\r\nimport * as core from './wasm-core-impl';\r\nimport {initializeWebAssembly} from './wasm-factory';\r\n\r\nconst isProxy = (): boolean => !!env.wasm.proxy && typeof document !== 'undefined';\r\nlet proxyWorker: Worker|undefined;\r\nlet initializing = false;\r\nlet initialized = false;\r\nlet aborted = false;\r\n\r\n// resolve; reject\r\ntype PromiseCallbacks<T = void> = [(result: T) => void, (reason: unknown) => void];\r\n\r\nlet initWasmCallbacks: PromiseCallbacks;\r\nlet initOrtCallbacks: PromiseCallbacks;\r\nconst createSessionCallbacks: Array<PromiseCallbacks<SerializableSessionMetadata>> = [];\r\nconst releaseSessionCallbacks: Array<PromiseCallbacks<void>> = [];\r\nconst runCallbacks: Array<PromiseCallbacks<SerializableTensor[]>> = [];\r\nconst endProfilingCallbacks: Array<PromiseCallbacks<void>> = [];\r\n\r\nconst ensureWorker = (): void => {\r\n  if (initializing || !initialized || aborted || !proxyWorker) {\r\n    throw new Error('worker not ready');\r\n  }\r\n};\r\n\r\nconst onProxyWorkerMessage = (ev: MessageEvent<OrtWasmMessage>): void => {\r\n  switch (ev.data.type) {\r\n    case 'init-wasm':\r\n      initializing = false;\r\n      if (ev.data.err) {\r\n        aborted = true;\r\n        initWasmCallbacks[1](ev.data.err);\r\n      } else {\r\n        initialized = true;\r\n        initWasmCallbacks[0]();\r\n      }\r\n      break;\r\n    case 'init-ort':\r\n      if (ev.data.err) {\r\n        initOrtCallbacks[1](ev.data.err);\r\n      } else {\r\n        initOrtCallbacks[0]();\r\n      }\r\n      break;\r\n    case 'create':\r\n      if (ev.data.err) {\r\n        createSessionCallbacks.shift()![1](ev.data.err);\r\n      } else {\r\n        createSessionCallbacks.shift()![0](ev.data.out!);\r\n      }\r\n      break;\r\n    case 'release':\r\n      if (ev.data.err) {\r\n        releaseSessionCallbacks.shift()![1](ev.data.err);\r\n      } else {\r\n        releaseSessionCallbacks.shift()![0]();\r\n      }\r\n      break;\r\n    case 'run':\r\n      if (ev.data.err) {\r\n        runCallbacks.shift()![1](ev.data.err);\r\n      } else {\r\n        runCallbacks.shift()![0](ev.data.out!);\r\n      }\r\n      break;\r\n    case 'end-profiling':\r\n      if (ev.data.err) {\r\n        endProfilingCallbacks.shift()![1](ev.data.err);\r\n      } else {\r\n        endProfilingCallbacks.shift()![0]();\r\n      }\r\n      break;\r\n    default:\r\n  }\r\n};\r\n\r\nconst scriptSrc = typeof document !== 'undefined' ? (document?.currentScript as HTMLScriptElement)?.src : undefined;\r\n\r\nexport const initWasm = async(): Promise<void> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    if (initialized) {\r\n      return;\r\n    }\r\n    if (initializing) {\r\n      throw new Error('multiple calls to \\'initWasm()\\' detected.');\r\n    }\r\n    if (aborted) {\r\n      throw new Error('previous call to \\'initWasm()\\' failed.');\r\n    }\r\n\r\n    initializing = true;\r\n\r\n    // overwrite wasm filepaths\r\n    if (env.wasm.wasmPaths === undefined) {\r\n      if (scriptSrc && scriptSrc.indexOf('blob:') !== 0) {\r\n        env.wasm.wasmPaths = scriptSrc.substr(0, (scriptSrc as string).lastIndexOf('/') + 1);\r\n      }\r\n    }\r\n\r\n    return new Promise<void>((resolve, reject) => {\r\n      proxyWorker?.terminate();\r\n      // eslint-disable-next-line @typescript-eslint/no-var-requires, @typescript-eslint/no-require-imports\r\n      proxyWorker = require('worker-loader?inline=no-fallback!./proxy-worker/main').default() as Worker;\r\n      proxyWorker.onmessage = onProxyWorkerMessage;\r\n      initWasmCallbacks = [resolve, reject];\r\n      const message: OrtWasmMessage = {type: 'init-wasm', in : env.wasm};\r\n      proxyWorker.postMessage(message);\r\n    });\r\n\r\n  } else {\r\n    return initializeWebAssembly(env.wasm);\r\n  }\r\n};\r\n\r\nexport const initOrt = async(numThreads: number, loggingLevel: number): Promise<void> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    ensureWorker();\r\n    return new Promise<void>((resolve, reject) => {\r\n      initOrtCallbacks = [resolve, reject];\r\n      const message: OrtWasmMessage = {type: 'init-ort', in : {numThreads, loggingLevel}};\r\n      proxyWorker!.postMessage(message);\r\n    });\r\n  } else {\r\n    core.initOrt(numThreads, loggingLevel);\r\n  }\r\n};\r\n\r\nexport const createSession =\r\n    async(model: Uint8Array, options?: InferenceSession.SessionOptions): Promise<SerializableSessionMetadata> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    ensureWorker();\r\n    return new Promise<SerializableSessionMetadata>((resolve, reject) => {\r\n      createSessionCallbacks.push([resolve, reject]);\r\n      const message: OrtWasmMessage = {type: 'create', in : {model, options}};\r\n      proxyWorker!.postMessage(message, [model.buffer]);\r\n    });\r\n  } else {\r\n    return core.createSession(model, options);\r\n  }\r\n};\r\n\r\nexport const releaseSession = async(sessionId: number): Promise<void> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    ensureWorker();\r\n    return new Promise<void>((resolve, reject) => {\r\n      releaseSessionCallbacks.push([resolve, reject]);\r\n      const message: OrtWasmMessage = {type: 'release', in : sessionId};\r\n      proxyWorker!.postMessage(message);\r\n    });\r\n  } else {\r\n    core.releaseSession(sessionId);\r\n  }\r\n};\r\n\r\nexport const run = async(\r\n    sessionId: number, inputIndices: number[], inputs: SerializableTensor[], outputIndices: number[],\r\n    options: InferenceSession.RunOptions): Promise<SerializableTensor[]> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    ensureWorker();\r\n    return new Promise<SerializableTensor[]>((resolve, reject) => {\r\n      runCallbacks.push([resolve, reject]);\r\n      const message: OrtWasmMessage = {type: 'run', in : {sessionId, inputIndices, inputs, outputIndices, options}};\r\n      proxyWorker!.postMessage(message, core.extractTransferableBuffers(inputs));\r\n    });\r\n  } else {\r\n    return core.run(sessionId, inputIndices, inputs, outputIndices, options);\r\n  }\r\n};\r\n\r\nexport const endProfiling = async(sessionId: number): Promise<void> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    ensureWorker();\r\n    return new Promise<void>((resolve, reject) => {\r\n      endProfilingCallbacks.push([resolve, reject]);\r\n      const message: OrtWasmMessage = {type: 'end-profiling', in : sessionId};\r\n      proxyWorker!.postMessage(message);\r\n    });\r\n  } else {\r\n    core.endProfiling(sessionId);\r\n  }\r\n};\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {InferenceSession} from 'onnxruntime-common';\r\n\r\nimport {iterateExtraOptions} from './options-utils';\r\nimport {allocWasmString} from './string-utils';\r\nimport {getInstance} from './wasm-factory';\r\n\r\nexport const setRunOptions = (options: InferenceSession.RunOptions): [number, number[]] => {\r\n  const wasm = getInstance();\r\n  let runOptionsHandle = 0;\r\n  const allocs: number[] = [];\r\n\r\n  const runOptions: InferenceSession.RunOptions = options || {};\r\n\r\n  try {\r\n    if (options?.logSeverityLevel === undefined) {\r\n      runOptions.logSeverityLevel = 2;  // Default to warning\r\n    } else if (\r\n        typeof options.logSeverityLevel !== 'number' || !Number.isInteger(options.logSeverityLevel) ||\r\n        options.logSeverityLevel < 0 || options.logSeverityLevel > 4) {\r\n      throw new Error(`log serverity level is not valid: ${options.logSeverityLevel}`);\r\n    }\r\n\r\n    if (options?.logVerbosityLevel === undefined) {\r\n      runOptions.logVerbosityLevel = 0;  // Default to 0\r\n    } else if (typeof options.logVerbosityLevel !== 'number' || !Number.isInteger(options.logVerbosityLevel)) {\r\n      throw new Error(`log verbosity level is not valid: ${options.logVerbosityLevel}`);\r\n    }\r\n\r\n    if (options?.terminate === undefined) {\r\n      runOptions.terminate = false;\r\n    }\r\n\r\n    let tagDataOffset = 0;\r\n    if (options?.tag !== undefined) {\r\n      tagDataOffset = allocWasmString(options.tag, allocs);\r\n    }\r\n\r\n    runOptionsHandle = wasm._OrtCreateRunOptions(\r\n        runOptions.logSeverityLevel!, runOptions.logVerbosityLevel!, !!runOptions.terminate!, tagDataOffset);\r\n    if (runOptionsHandle === 0) {\r\n      throw new Error('Can\\'t create run options');\r\n    }\r\n\r\n    if (options?.extra !== undefined) {\r\n      iterateExtraOptions(options.extra, '', new WeakSet<Record<string, unknown>>(), (key, value) => {\r\n        const keyDataOffset = allocWasmString(key, allocs);\r\n        const valueDataOffset = allocWasmString(value, allocs);\r\n\r\n        if (wasm._OrtAddRunConfigEntry(runOptionsHandle, keyDataOffset, valueDataOffset) !== 0) {\r\n          throw new Error(`Can't set a run config entry: ${key} - ${value}`);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [runOptionsHandle, allocs];\r\n  } catch (e) {\r\n    if (runOptionsHandle !== 0) {\r\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\r\n    }\r\n    allocs.forEach(wasm._free);\r\n    throw e;\r\n  }\r\n};\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {env, InferenceSession, SessionHandler, Tensor} from 'onnxruntime-common';\r\n\r\nimport {createSession, endProfiling, initOrt, releaseSession, run} from './proxy-wrapper';\r\n\r\nlet ortInit: boolean;\r\n\r\n\r\nconst getLogLevel = (logLevel: 'verbose'|'info'|'warning'|'error'|'fatal'): number => {\r\n  switch (logLevel) {\r\n    case 'verbose':\r\n      return 0;\r\n    case 'info':\r\n      return 1;\r\n    case 'warning':\r\n      return 2;\r\n    case 'error':\r\n      return 3;\r\n    case 'fatal':\r\n      return 4;\r\n    default:\r\n      throw new Error(`unsupported logging level: ${logLevel}`);\r\n  }\r\n};\r\n\r\nexport class OnnxruntimeWebAssemblySessionHandler implements SessionHandler {\r\n  private sessionId: number;\r\n\r\n  inputNames: string[];\r\n  outputNames: string[];\r\n\r\n  async loadModel(model: Uint8Array, options?: InferenceSession.SessionOptions): Promise<void> {\r\n    if (!ortInit) {\r\n      await initOrt(env.wasm.numThreads!, getLogLevel(env.logLevel!));\r\n      ortInit = true;\r\n    }\r\n\r\n    [this.sessionId, this.inputNames, this.outputNames] = await createSession(model, options);\r\n  }\r\n\r\n  async dispose(): Promise<void> {\r\n    return releaseSession(this.sessionId);\r\n  }\r\n\r\n  async run(feeds: SessionHandler.FeedsType, fetches: SessionHandler.FetchesType, options: InferenceSession.RunOptions):\r\n      Promise<SessionHandler.ReturnType> {\r\n    const inputArray: Tensor[] = [];\r\n    const inputIndices: number[] = [];\r\n    Object.entries(feeds).forEach(kvp => {\r\n      const name = kvp[0];\r\n      const tensor = kvp[1];\r\n      const index = this.inputNames.indexOf(name);\r\n      if (index === -1) {\r\n        throw new Error(`invalid input '${name}'`);\r\n      }\r\n      inputArray.push(tensor);\r\n      inputIndices.push(index);\r\n    });\r\n\r\n    const outputIndices: number[] = [];\r\n    Object.entries(fetches).forEach(kvp => {\r\n      const name = kvp[0];\r\n      // TODO: support pre-allocated output\r\n      const index = this.outputNames.indexOf(name);\r\n      if (index === -1) {\r\n        throw new Error(`invalid output '${name}'`);\r\n      }\r\n      outputIndices.push(index);\r\n    });\r\n\r\n    const outputs =\r\n        await run(this.sessionId, inputIndices, inputArray.map(t => [t.type, t.dims, t.data]), outputIndices, options);\r\n\r\n    const result: SessionHandler.ReturnType = {};\r\n    for (let i = 0; i < outputs.length; i++) {\r\n      result[this.outputNames[outputIndices[i]]] = new Tensor(outputs[i][0], outputs[i][2], outputs[i][1]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  startProfiling(): void {\r\n    // TODO: implement profiling\r\n  }\r\n\r\n  endProfiling(): void {\r\n    void endProfiling(this.sessionId);\r\n  }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {InferenceSession} from 'onnxruntime-common';\r\n\r\nimport {iterateExtraOptions} from './options-utils';\r\nimport {allocWasmString} from './string-utils';\r\nimport {getInstance} from './wasm-factory';\r\n\r\nconst getGraphOptimzationLevel = (graphOptimizationLevel: string|unknown): number => {\r\n  switch (graphOptimizationLevel) {\r\n    case 'disabled':\r\n      return 0;\r\n    case 'basic':\r\n      return 1;\r\n    case 'extended':\r\n      return 2;\r\n    case 'all':\r\n      return 99;\r\n    default:\r\n      throw new Error(`unsupported graph optimization level: ${graphOptimizationLevel}`);\r\n  }\r\n};\r\n\r\nconst getExecutionMode = (executionMode: 'sequential'|'parallel'): number => {\r\n  switch (executionMode) {\r\n    case 'sequential':\r\n      return 0;\r\n    case 'parallel':\r\n      return 1;\r\n    default:\r\n      throw new Error(`unsupported execution mode: ${executionMode}`);\r\n  }\r\n};\r\n\r\nconst appendDefaultOptions = (options: InferenceSession.SessionOptions): void => {\r\n  if (!options.extra) {\r\n    options.extra = {};\r\n  }\r\n  if (!options.extra.session) {\r\n    options.extra.session = {};\r\n  }\r\n  const session = options.extra.session as Record<string, string>;\r\n  if (!session.use_ort_model_bytes_directly) {\r\n    // eslint-disable-next-line camelcase\r\n    session.use_ort_model_bytes_directly = '1';\r\n  }\r\n};\r\n\r\nexport const setSessionOptions = (options?: InferenceSession.SessionOptions): [number, number[]] => {\r\n  const wasm = getInstance();\r\n  let sessionOptionsHandle = 0;\r\n  const allocs: number[] = [];\r\n\r\n  const sessionOptions: InferenceSession.SessionOptions = options || {};\r\n  appendDefaultOptions(sessionOptions);\r\n\r\n  try {\r\n    if (options?.graphOptimizationLevel === undefined) {\r\n      sessionOptions.graphOptimizationLevel = 'all';\r\n    }\r\n    const graphOptimizationLevel = getGraphOptimzationLevel(sessionOptions.graphOptimizationLevel!);\r\n\r\n    if (options?.enableCpuMemArena === undefined) {\r\n      sessionOptions.enableCpuMemArena = true;\r\n    }\r\n\r\n    if (options?.enableMemPattern === undefined) {\r\n      sessionOptions.enableMemPattern = true;\r\n    }\r\n\r\n    if (options?.executionMode === undefined) {\r\n      sessionOptions.executionMode = 'sequential';\r\n    }\r\n    const executionMode = getExecutionMode(sessionOptions.executionMode!);\r\n\r\n    let logIdDataOffset = 0;\r\n    if (options?.logId !== undefined) {\r\n      logIdDataOffset = allocWasmString(options.logId, allocs);\r\n    }\r\n\r\n    if (options?.logSeverityLevel === undefined) {\r\n      sessionOptions.logSeverityLevel = 2;  // Default to warning\r\n    } else if (\r\n        typeof options.logSeverityLevel !== 'number' || !Number.isInteger(options.logSeverityLevel) ||\r\n        options.logSeverityLevel < 0 || options.logSeverityLevel > 4) {\r\n      throw new Error(`log serverity level is not valid: ${options.logSeverityLevel}`);\r\n    }\r\n\r\n    if (options?.logVerbosityLevel === undefined) {\r\n      sessionOptions.logVerbosityLevel = 0;  // Default to 0\r\n    } else if (typeof options.logVerbosityLevel !== 'number' || !Number.isInteger(options.logVerbosityLevel)) {\r\n      throw new Error(`log verbosity level is not valid: ${options.logVerbosityLevel}`);\r\n    }\r\n\r\n    if (options?.enableProfiling === undefined) {\r\n      sessionOptions.enableProfiling = false;\r\n    }\r\n\r\n    sessionOptionsHandle = wasm._OrtCreateSessionOptions(\r\n        graphOptimizationLevel, !!sessionOptions.enableCpuMemArena!, !!sessionOptions.enableMemPattern!, executionMode,\r\n        !!sessionOptions.enableProfiling!, 0, logIdDataOffset, sessionOptions.logSeverityLevel!,\r\n        sessionOptions.logVerbosityLevel!);\r\n    if (sessionOptionsHandle === 0) {\r\n      throw new Error('Can\\'t create session options');\r\n    }\r\n\r\n    if (options?.extra !== undefined) {\r\n      iterateExtraOptions(options.extra, '', new WeakSet<Record<string, unknown>>(), (key, value) => {\r\n        const keyDataOffset = allocWasmString(key, allocs);\r\n        const valueDataOffset = allocWasmString(value, allocs);\r\n\r\n        if (wasm._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !== 0) {\r\n          throw new Error(`Can't set a session config entry: ${key} - ${value}`);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [sessionOptionsHandle, allocs];\r\n  } catch (e) {\r\n    if (sessionOptionsHandle !== 0) {\r\n      wasm._OrtReleaseSessionOptions(sessionOptionsHandle);\r\n    }\r\n    allocs.forEach(wasm._free);\r\n    throw e;\r\n  }\r\n};\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {getInstance} from './wasm-factory';\r\n\r\nexport const allocWasmString = (data: string, allocs: number[]): number => {\r\n  const wasm = getInstance();\r\n\r\n  const dataLength = wasm.lengthBytesUTF8(data) + 1;\r\n  const dataOffset = wasm._malloc(dataLength);\r\n  wasm.stringToUTF8(data, dataOffset, dataLength);\r\n  allocs.push(dataOffset);\r\n\r\n  return dataOffset;\r\n};\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {InferenceSession, Tensor} from 'onnxruntime-common';\r\nimport {SerializableSessionMetadata, SerializableTensor} from './proxy-messages';\r\nimport {setRunOptions} from './run-options';\r\nimport {setSessionOptions} from './session-options';\r\nimport {allocWasmString} from './string-utils';\r\nimport {getInstance} from './wasm-factory';\r\n\r\n/**\r\n * initialize ORT environment.\r\n * @param numThreads SetGlobalIntraOpNumThreads(numThreads)\r\n * @param loggingLevel CreateEnv(static_cast<OrtLoggingLevel>(logging_level))\r\n */\r\nexport const initOrt = (numThreads: number, loggingLevel: number): void => {\r\n  const errorCode = getInstance()._OrtInit(numThreads, loggingLevel);\r\n  if (errorCode !== 0) {\r\n    throw new Error(`Can't initialize onnxruntime. error code = ${errorCode}`);\r\n  }\r\n};\r\n\r\n/**\r\n *  tuple elements are: InferenceSession ID; inputNamesUTF8Encoded; outputNamesUTF8Encoded\r\n */\r\ntype SessionMetadata = [number, number[], number[]];\r\n\r\nconst activeSessions = new Map<number, SessionMetadata>();\r\n\r\n/**\r\n * create an instance of InferenceSession.\r\n * @returns the metadata of InferenceSession. 0-value handle for failure.\r\n */\r\nexport const createSession =\r\n    (model: Uint8Array, options?: InferenceSession.SessionOptions): SerializableSessionMetadata => {\r\n      const wasm = getInstance();\r\n      const modelDataOffset = wasm._malloc(model.byteLength);\r\n      let sessionHandle = 0;\r\n      let sessionOptionsHandle = 0;\r\n      let allocs: number[] = [];\r\n\r\n      try {\r\n        [sessionOptionsHandle, allocs] = setSessionOptions(options);\r\n\r\n        wasm.HEAPU8.set(model, modelDataOffset);\r\n        sessionHandle = wasm._OrtCreateSession(modelDataOffset, model.byteLength, sessionOptionsHandle);\r\n        if (sessionHandle === 0) {\r\n          throw new Error('Can\\'t create a session');\r\n        }\r\n      } finally {\r\n        wasm._free(modelDataOffset);\r\n        wasm._OrtReleaseSessionOptions(sessionOptionsHandle);\r\n        allocs.forEach(wasm._free);\r\n      }\r\n\r\n      const inputCount = wasm._OrtGetInputCount(sessionHandle);\r\n      const outputCount = wasm._OrtGetOutputCount(sessionHandle);\r\n\r\n      const inputNames = [];\r\n      const inputNamesUTF8Encoded = [];\r\n      const outputNames = [];\r\n      const outputNamesUTF8Encoded = [];\r\n      for (let i = 0; i < inputCount; i++) {\r\n        const name = wasm._OrtGetInputName(sessionHandle, i);\r\n        if (name === 0) {\r\n          throw new Error('Can\\'t get an input name');\r\n        }\r\n        inputNamesUTF8Encoded.push(name);\r\n        inputNames.push(wasm.UTF8ToString(name));\r\n      }\r\n      for (let i = 0; i < outputCount; i++) {\r\n        const name = wasm._OrtGetOutputName(sessionHandle, i);\r\n        if (name === 0) {\r\n          throw new Error('Can\\'t get an output name');\r\n        }\r\n        outputNamesUTF8Encoded.push(name);\r\n        outputNames.push(wasm.UTF8ToString(name));\r\n      }\r\n\r\n      activeSessions.set(sessionHandle, [sessionHandle, inputNamesUTF8Encoded, outputNamesUTF8Encoded]);\r\n      return [sessionHandle, inputNames, outputNames];\r\n    };\r\n\r\nexport const releaseSession = (sessionId: number): void => {\r\n  const wasm = getInstance();\r\n  const session = activeSessions.get(sessionId);\r\n  if (!session) {\r\n    throw new Error('invalid session id');\r\n  }\r\n  const sessionHandle = session[0];\r\n  const inputNamesUTF8Encoded = session[1];\r\n  const outputNamesUTF8Encoded = session[2];\r\n\r\n  inputNamesUTF8Encoded.forEach(wasm._OrtFree);\r\n  outputNamesUTF8Encoded.forEach(wasm._OrtFree);\r\n  wasm._OrtReleaseSession(sessionHandle);\r\n  activeSessions.delete(sessionId);\r\n};\r\n\r\n/**\r\n * Copied from ONNX definition. Use this to drop dependency 'onnx_proto' to decrease compiled .js file size.\r\n */\r\nconst enum DataType {\r\n  undefined = 0,\r\n  float = 1,\r\n  uint8 = 2,\r\n  int8 = 3,\r\n  uint16 = 4,\r\n  int16 = 5,\r\n  int32 = 6,\r\n  int64 = 7,\r\n  string = 8,\r\n  bool = 9,\r\n  float16 = 10,\r\n  double = 11,\r\n  uint32 = 12,\r\n  uint64 = 13,\r\n  complex64 = 14,\r\n  complex128 = 15,\r\n  bfloat16 = 16\r\n}\r\n\r\n\r\nconst tensorDataTypeStringToEnum = (type: string): DataType => {\r\n  switch (type) {\r\n    case 'int8':\r\n      return DataType.int8;\r\n    case 'uint8':\r\n      return DataType.uint8;\r\n    case 'bool':\r\n      return DataType.bool;\r\n    case 'int16':\r\n      return DataType.int16;\r\n    case 'uint16':\r\n      return DataType.uint16;\r\n    case 'int32':\r\n      return DataType.int32;\r\n    case 'uint32':\r\n      return DataType.uint32;\r\n    case 'float32':\r\n      return DataType.float;\r\n    case 'float64':\r\n      return DataType.double;\r\n    case 'string':\r\n      return DataType.string;\r\n    case 'int64':\r\n      return DataType.int64;\r\n    case 'uint64':\r\n      return DataType.uint64;\r\n\r\n    default:\r\n      throw new Error(`unsupported data type: ${type}`);\r\n  }\r\n};\r\n\r\nconst tensorDataTypeEnumToString = (typeProto: DataType): Tensor.Type => {\r\n  switch (typeProto) {\r\n    case DataType.int8:\r\n      return 'int8';\r\n    case DataType.uint8:\r\n      return 'uint8';\r\n    case DataType.bool:\r\n      return 'bool';\r\n    case DataType.int16:\r\n      return 'int16';\r\n    case DataType.uint16:\r\n      return 'uint16';\r\n    case DataType.int32:\r\n      return 'int32';\r\n    case DataType.uint32:\r\n      return 'uint32';\r\n    case DataType.float:\r\n      return 'float32';\r\n    case DataType.double:\r\n      return 'float64';\r\n    case DataType.string:\r\n      return 'string';\r\n    case DataType.int64:\r\n      return 'int32';\r\n    case DataType.uint64:\r\n      return 'uint32';\r\n\r\n    default:\r\n      throw new Error(`unsupported data type: ${typeProto}`);\r\n  }\r\n};\r\n\r\nconst numericTensorTypeToTypedArray = (type: Tensor.Type): Float32ArrayConstructor|Uint8ArrayConstructor|\r\n    Int8ArrayConstructor|Uint16ArrayConstructor|Int16ArrayConstructor|Int32ArrayConstructor|BigInt64ArrayConstructor|\r\n    Uint8ArrayConstructor|Float64ArrayConstructor|Uint32ArrayConstructor|BigUint64ArrayConstructor => {\r\n      switch (type) {\r\n        case 'float32':\r\n          return Float32Array;\r\n        case 'uint8':\r\n          return Uint8Array;\r\n        case 'int8':\r\n          return Int8Array;\r\n        case 'uint16':\r\n          return Uint16Array;\r\n        case 'int16':\r\n          return Int16Array;\r\n        case 'int32':\r\n          return Int32Array;\r\n        case 'bool':\r\n          return Uint8Array;\r\n        case 'float64':\r\n          return Float64Array;\r\n        case 'uint32':\r\n          return Uint32Array;\r\n        case 'int64':\r\n          return BigInt64Array;\r\n        case 'uint64':\r\n          return BigUint64Array;\r\n        default:\r\n          throw new Error(`unsupported type: ${type}`);\r\n      }\r\n    };\r\n\r\n/**\r\n * perform inference run\r\n */\r\nexport const run =\r\n    (sessionId: number, inputIndices: number[], inputs: SerializableTensor[], outputIndices: number[],\r\n     options: InferenceSession.RunOptions): SerializableTensor[] => {\r\n      const wasm = getInstance();\r\n      const session = activeSessions.get(sessionId);\r\n      if (!session) {\r\n        throw new Error('invalid session id');\r\n      }\r\n      const sessionHandle = session[0];\r\n      const inputNamesUTF8Encoded = session[1];\r\n      const outputNamesUTF8Encoded = session[2];\r\n\r\n      const inputCount = inputIndices.length;\r\n      const outputCount = outputIndices.length;\r\n\r\n      let runOptionsHandle = 0;\r\n      let runOptionsAllocs: number[] = [];\r\n\r\n      const inputValues: number[] = [];\r\n      const inputAllocs: number[] = [];\r\n\r\n      try {\r\n        [runOptionsHandle, runOptionsAllocs] = setRunOptions(options);\r\n\r\n        // create input tensors\r\n        for (let i = 0; i < inputCount; i++) {\r\n          const dataType = inputs[i][0];\r\n          const dims = inputs[i][1];\r\n          const data = inputs[i][2];\r\n\r\n          let dataOffset: number;\r\n          let dataByteLength: number;\r\n\r\n          if (Array.isArray(data)) {\r\n            // string tensor\r\n            dataByteLength = 4 * data.length;\r\n            dataOffset = wasm._malloc(dataByteLength);\r\n            inputAllocs.push(dataOffset);\r\n            let dataIndex = dataOffset / 4;\r\n            for (let i = 0; i < data.length; i++) {\r\n              if (typeof data[i] !== 'string') {\r\n                throw new TypeError(`tensor data at index ${i} is not a string`);\r\n              }\r\n              wasm.HEAPU32[dataIndex++] = allocWasmString(data[i], inputAllocs);\r\n            }\r\n          } else {\r\n            dataByteLength = data.byteLength;\r\n            dataOffset = wasm._malloc(dataByteLength);\r\n            inputAllocs.push(dataOffset);\r\n            wasm.HEAPU8.set(new Uint8Array(data.buffer, data.byteOffset, dataByteLength), dataOffset);\r\n          }\r\n\r\n          const stack = wasm.stackSave();\r\n          const dimsOffset = wasm.stackAlloc(4 * dims.length);\r\n          try {\r\n            let dimIndex = dimsOffset / 4;\r\n            dims.forEach(d => wasm.HEAP32[dimIndex++] = d);\r\n            const tensor = wasm._OrtCreateTensor(\r\n                tensorDataTypeStringToEnum(dataType), dataOffset, dataByteLength, dimsOffset, dims.length);\r\n            if (tensor === 0) {\r\n              throw new Error('Can\\'t create a tensor');\r\n            }\r\n            inputValues.push(tensor);\r\n          } finally {\r\n            wasm.stackRestore(stack);\r\n          }\r\n        }\r\n\r\n        const beforeRunStack = wasm.stackSave();\r\n        const inputValuesOffset = wasm.stackAlloc(inputCount * 4);\r\n        const inputNamesOffset = wasm.stackAlloc(inputCount * 4);\r\n        const outputValuesOffset = wasm.stackAlloc(outputCount * 4);\r\n        const outputNamesOffset = wasm.stackAlloc(outputCount * 4);\r\n\r\n        try {\r\n          let inputValuesIndex = inputValuesOffset / 4;\r\n          let inputNamesIndex = inputNamesOffset / 4;\r\n          let outputValuesIndex = outputValuesOffset / 4;\r\n          let outputNamesIndex = outputNamesOffset / 4;\r\n          for (let i = 0; i < inputCount; i++) {\r\n            wasm.HEAPU32[inputValuesIndex++] = inputValues[i];\r\n            wasm.HEAPU32[inputNamesIndex++] = inputNamesUTF8Encoded[inputIndices[i]];\r\n          }\r\n          for (let i = 0; i < outputCount; i++) {\r\n            wasm.HEAPU32[outputValuesIndex++] = 0;\r\n            wasm.HEAPU32[outputNamesIndex++] = outputNamesUTF8Encoded[outputIndices[i]];\r\n          }\r\n\r\n          // support RunOptions\r\n          let errorCode = wasm._OrtRun(\r\n              sessionHandle, inputNamesOffset, inputValuesOffset, inputCount, outputNamesOffset, outputCount,\r\n              outputValuesOffset, runOptionsHandle);\r\n\r\n          const output: SerializableTensor[] = [];\r\n\r\n          if (errorCode === 0) {\r\n            for (let i = 0; i < outputCount; i++) {\r\n              const tensor = wasm.HEAPU32[outputValuesOffset / 4 + i];\r\n\r\n              const beforeGetTensorDataStack = wasm.stackSave();\r\n              // stack allocate 4 pointer value\r\n              const tensorDataOffset = wasm.stackAlloc(4 * 4);\r\n\r\n              let type: Tensor.Type|undefined, dataOffset = 0;\r\n              try {\r\n                errorCode = wasm._OrtGetTensorData(\r\n                    tensor, tensorDataOffset, tensorDataOffset + 4, tensorDataOffset + 8, tensorDataOffset + 12);\r\n                if (errorCode !== 0) {\r\n                  throw new Error(`Can't get a tensor data. error code = ${errorCode}`);\r\n                }\r\n                let tensorDataIndex = tensorDataOffset / 4;\r\n                const dataType = wasm.HEAPU32[tensorDataIndex++];\r\n                dataOffset = wasm.HEAPU32[tensorDataIndex++];\r\n                const dimsOffset = wasm.HEAPU32[tensorDataIndex++];\r\n                const dimsLength = wasm.HEAPU32[tensorDataIndex++];\r\n                const dims = [];\r\n                for (let i = 0; i < dimsLength; i++) {\r\n                  dims.push(wasm.HEAPU32[dimsOffset / 4 + i]);\r\n                }\r\n                wasm._OrtFree(dimsOffset);\r\n\r\n                const size = dims.length === 0 ? 1 : dims.reduce((a, b) => a * b);\r\n                type = tensorDataTypeEnumToString(dataType);\r\n                if (type === 'string') {\r\n                  const stringData: string[] = [];\r\n                  let dataIndex = dataOffset / 4;\r\n                  for (let i = 0; i < size; i++) {\r\n                    const offset = wasm.HEAPU32[dataIndex++];\r\n                    const maxBytesToRead = i === size - 1 ? undefined : wasm.HEAPU32[dataIndex] - offset;\r\n                    stringData.push(wasm.UTF8ToString(offset, maxBytesToRead));\r\n                  }\r\n                  output.push([type, dims, stringData]);\r\n                } else {\r\n                  const typedArrayConstructor = numericTensorTypeToTypedArray(type);\r\n                  const data = new typedArrayConstructor(size);\r\n                  new Uint8Array(data.buffer, data.byteOffset, data.byteLength)\r\n                      .set(wasm.HEAPU8.subarray(dataOffset, dataOffset + data.byteLength));\r\n                  output.push([type, dims, data]);\r\n                }\r\n              } finally {\r\n                wasm.stackRestore(beforeGetTensorDataStack);\r\n                if (type === 'string' && dataOffset) {\r\n                  wasm._free(dataOffset);\r\n                }\r\n                wasm._OrtReleaseTensor(tensor);\r\n              }\r\n            }\r\n          }\r\n\r\n          if (errorCode === 0) {\r\n            return output;\r\n          } else {\r\n            throw new Error(`failed to call OrtRun(). error code = ${errorCode}.`);\r\n          }\r\n        } finally {\r\n          wasm.stackRestore(beforeRunStack);\r\n        }\r\n      } finally {\r\n        inputValues.forEach(wasm._OrtReleaseTensor);\r\n        inputAllocs.forEach(wasm._free);\r\n\r\n        wasm._OrtReleaseRunOptions(runOptionsHandle);\r\n        runOptionsAllocs.forEach(wasm._free);\r\n      }\r\n    };\r\n\r\n/**\r\n * end profiling\r\n */\r\nexport const endProfiling = (sessionId: number): void => {\r\n  const wasm = getInstance();\r\n  const session = activeSessions.get(sessionId);\r\n  if (!session) {\r\n    throw new Error('invalid session id');\r\n  }\r\n  const sessionHandle = session[0];\r\n\r\n  // profile file name is not used yet, but it must be freed.\r\n  const profileFileName = wasm._OrtEndProfiling(sessionHandle);\r\n  if (profileFileName === 0) {\r\n    throw new Error('Can\\'t get an profile file name');\r\n  }\r\n  wasm._OrtFree(profileFileName);\r\n};\r\n\r\nexport const extractTransferableBuffers = (tensors: readonly SerializableTensor[]): ArrayBufferLike[] => {\r\n  const buffers: ArrayBufferLike[] = [];\r\n  for (const tensor of tensors) {\r\n    const data = tensor[2];\r\n    if (!Array.isArray(data) && data.buffer) {\r\n      buffers.push(data.buffer);\r\n    }\r\n  }\r\n  return buffers;\r\n};\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {Env} from 'onnxruntime-common';\r\nimport * as path from 'path';\r\n\r\nimport {OrtWasmModule} from './binding/ort-wasm';\r\nimport {OrtWasmThreadedModule} from './binding/ort-wasm-threaded';\r\nimport ortWasmFactory from './binding/ort-wasm.js';\r\nconst ortWasmFactoryThreaded: EmscriptenModuleFactory<OrtWasmModule> =\r\n    // eslint-disable-next-line @typescript-eslint/no-require-imports\r\n    !BUILD_DEFS.DISABLE_WASM_THREAD ? require('./binding/ort-wasm-threaded.js') : ortWasmFactory;\r\n\r\nlet wasm: OrtWasmModule|undefined;\r\nlet initialized = false;\r\nlet initializing = false;\r\nlet aborted = false;\r\n\r\nconst isMultiThreadSupported = (): boolean => {\r\n  try {\r\n    // If 'SharedArrayBuffer' is not available, WebAssembly threads will not work.\r\n    if (typeof SharedArrayBuffer === 'undefined') {\r\n      return false;\r\n    }\r\n\r\n    // Test for transferability of SABs (for browsers. needed for Firefox)\r\n    // https://groups.google.com/forum/#!msg/mozilla.dev.platform/IHkBZlHETpA/dwsMNchWEQAJ\r\n    if (typeof MessageChannel !== 'undefined') {\r\n      new MessageChannel().port1.postMessage(new SharedArrayBuffer(1));\r\n    }\r\n\r\n    // Test for WebAssembly threads capability (for both browsers and Node.js)\r\n    // This typed array is a WebAssembly program containing threaded instructions.\r\n    return WebAssembly.validate(new Uint8Array([\r\n      0, 97, 115, 109, 1, 0,  0,  0, 1, 4, 1,  96, 0,   0,  3, 2, 1,  0, 5,\r\n      4, 1,  3,   1,   1, 10, 11, 1, 9, 0, 65, 0,  254, 16, 2, 0, 26, 11\r\n    ]));\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst isSimdSupported = (): boolean => {\r\n  try {\r\n    // Test for WebAssembly SIMD capability (for both browsers and Node.js)\r\n    // This typed array is a WebAssembly program containing SIMD instructions.\r\n\r\n    // The binary data is generated from the following code by wat2wasm:\r\n    //\r\n    // (module\r\n    //   (type $t0 (func))\r\n    //   (func $f0 (type $t0)\r\n    //     (drop\r\n    //       (i32x4.dot_i16x8_s\r\n    //         (i8x16.splat\r\n    //           (i32.const 0))\r\n    //         (v128.const i32x4 0x00000000 0x00000000 0x00000000 0x00000000)))))\r\n\r\n    return WebAssembly.validate(new Uint8Array([\r\n      0,   97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 2, 1, 0, 10, 30, 1,   28,  0, 65, 0,\r\n      253, 15, 253, 12,  0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0,  0,  253, 186, 1, 26, 11\r\n    ]));\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst getWasmFileName = (useSimd: boolean, useThreads: boolean) => {\r\n  if (useThreads) {\r\n    return useSimd ? 'ort-wasm-simd-threaded.wasm' : 'ort-wasm-threaded.wasm';\r\n  } else {\r\n    return useSimd ? 'ort-wasm-simd.wasm' : 'ort-wasm.wasm';\r\n  }\r\n};\r\n\r\nexport const initializeWebAssembly = async(flags: Env.WebAssemblyFlags): Promise<void> => {\r\n  if (initialized) {\r\n    return Promise.resolve();\r\n  }\r\n  if (initializing) {\r\n    throw new Error('multiple calls to \\'initializeWebAssembly()\\' detected.');\r\n  }\r\n  if (aborted) {\r\n    throw new Error('previous call to \\'initializeWebAssembly()\\' failed.');\r\n  }\r\n\r\n  initializing = true;\r\n\r\n  // wasm flags are already initialized\r\n  const timeout = flags.initTimeout!;\r\n  const numThreads = flags.numThreads!;\r\n  const simd = flags.simd!;\r\n\r\n  const useThreads = numThreads > 1 && isMultiThreadSupported();\r\n  const useSimd = simd && isSimdSupported();\r\n\r\n  const wasmPrefixOverride = typeof flags.wasmPaths === 'string' ? flags.wasmPaths : undefined;\r\n  const wasmFileName = getWasmFileName(false, useThreads);\r\n  const wasmOverrideFileName = getWasmFileName(useSimd, useThreads);\r\n  const wasmPathOverride = typeof flags.wasmPaths === 'object' ? flags.wasmPaths[wasmOverrideFileName] : undefined;\r\n\r\n  let isTimeout = false;\r\n\r\n  const tasks: Array<Promise<void>> = [];\r\n\r\n  // promise for timeout\r\n  if (timeout > 0) {\r\n    tasks.push(new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        isTimeout = true;\r\n        resolve();\r\n      }, timeout);\r\n    }));\r\n  }\r\n\r\n  // promise for module initialization\r\n  tasks.push(new Promise((resolve, reject) => {\r\n    const factory = useThreads ? ortWasmFactoryThreaded : ortWasmFactory;\r\n    const config: Partial<OrtWasmModule> = {\r\n      locateFile: (fileName: string, scriptDirectory: string) => {\r\n        if (!BUILD_DEFS.DISABLE_WASM_THREAD && useThreads && fileName.endsWith('.worker.js') &&\r\n            typeof Blob !== 'undefined') {\r\n          return URL.createObjectURL(new Blob(\r\n              [\r\n                // This require() function is handled by webpack to load file content of the corresponding .worker.js\r\n                // eslint-disable-next-line @typescript-eslint/no-require-imports\r\n                require('./binding/ort-wasm-threaded.worker.js')\r\n              ],\r\n              {type: 'text/javascript'}));\r\n        }\r\n\r\n        if (fileName === wasmFileName) {\r\n          const prefix: string = wasmPrefixOverride ?? scriptDirectory;\r\n          return wasmPathOverride ?? prefix + wasmOverrideFileName;\r\n        }\r\n\r\n        return scriptDirectory + fileName;\r\n      }\r\n    };\r\n\r\n    if (!BUILD_DEFS.DISABLE_WASM_THREAD && useThreads) {\r\n      if (typeof Blob === 'undefined') {\r\n        config.mainScriptUrlOrBlob = path.join(__dirname, 'ort-wasm-threaded.js');\r\n      } else {\r\n        const scriptSourceCode = `var ortWasmThreaded=(function(){var _scriptDir;return ${factory.toString()}})();`;\r\n        config.mainScriptUrlOrBlob = new Blob([scriptSourceCode], {type: 'text/javascript'});\r\n      }\r\n    }\r\n\r\n    factory(config).then(\r\n        // wasm module initialized successfully\r\n        module => {\r\n          initializing = false;\r\n          initialized = true;\r\n          wasm = module;\r\n          resolve();\r\n        },\r\n        // wasm module failed to initialize\r\n        (what) => {\r\n          initializing = false;\r\n          aborted = true;\r\n          reject(what);\r\n        });\r\n  }));\r\n\r\n  await Promise.race(tasks);\r\n\r\n  if (isTimeout) {\r\n    throw new Error(`WebAssembly backend initializing failed due to timeout: ${timeout}ms`);\r\n  }\r\n};\r\n\r\nexport const getInstance = (): OrtWasmModule => {\r\n  if (initialized && wasm) {\r\n    return wasm;\r\n  }\r\n\r\n  throw new Error('WebAssembly is not initialized yet.');\r\n};\r\n\r\nexport const dispose = (): void => {\r\n  if (initialized && !initializing && !aborted) {\r\n    initializing = true;\r\n\r\n    (wasm as OrtWasmThreadedModule).PThread?.terminateAllThreads();\r\n    wasm = undefined;\r\n\r\n    initializing = false;\r\n    initialized = false;\r\n    aborted = true;\r\n  }\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(18);\n"],"sourceRoot":""}